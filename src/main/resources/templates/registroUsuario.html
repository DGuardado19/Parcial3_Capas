<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Registro</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
	integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
	crossorigin="anonymous">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="container formularios">
		<h1 class="center">Registrar nuevo usuario</h1>
		<form th:action="@{/ingresarUsuario}" th:object="${usuario}" method="post">
			<div class="row">
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Nombre</label> 
						<input type="text" class="form-control" id="Input1" name="nombre">
						<span th:errors="*{nombre}" style = "color: #BF2121"></span>
					</div>
				</div>
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Apellido</label> 
						<input type="text" class="form-control" id="Input1" name="apellido">
						<span th:errors="*{apellido}" style = "color: #BF2121"></span>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Fecha de nacimiento</label> 
						<input type="date" class="form-control" id="Input1" name="fechaNac">
						<span th:errors="*{fechaNac}" style = "color: #BF2121"></span>
					</div>
				</div>
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Edad</label> 
						<input type="text"	class="form-control" id="Input1">
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md">
					<div class="form-group">
						<label for="Select1">Departamento</label> <select
							class="form-control" id="Select1" name="departamento"> <!--  th:field="*{departamento.idDepartamento}"  -->
							<option value="0">Seleccione una opción</option>
							<option th:each=item:${departamentoLista}
									th:value="${item.idDepartamento}"
									th:text="${item.nombreDepartamento}">
						</select>
						<span th:if="${resultado == 1}" style = "color: #BF2121">Debe seleccionar un departamento</span>
					</div>
				</div>
				<div class="col-md">
					<div class="form-group">
						<label for="Select2">Municipio</label> <select
							class="form-control" id="Select2" name="municipio"> <!--  th:field="*{municipio.idMunicipio}"  -->
							<option value="0">Seleccione una opción</option>
							<option th:each=item:${municipioLista}
									th:value="${item.idMunicipio}"
									th:text="${item.nombreMunicipio}">
						</select>
						<span th:if="${resultado2 == 1}" style = "color: #BF2121">Debe seleccionar un municipio</span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label for="exampleFormControlTextarea1">Dirección de
					residencia</label>
				<textarea class="form-control" id="exampleFormControlTextarea1"
					rows="3" name="direccion"></textarea>
				<span th:errors="*{direccion}" style = "color: #BF2121"></span>
			</div>
			<div class="row">
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Nombre de usuario</label> <input type="text"
							class="form-control" id="Input1" name="nombreUser">
						<span th:errors="*{nombreUser}" style = "color: #BF2121"></span>
					</div>
				</div>
				<div class="col-md">
					<div class="form-group">
						<label for="Select3">Tipo de usuario</label> <select
							class="form-control" id="Select3" name="tipoUsuario">
							<option value="3">Seleccione una opción</option>
							<option value="0">Administrador</option>
							<option value="1">Coordinador</option>
						</select>
						<span th:if="${resultado3 == 1}" style = "color: #BF2121">Debe seleccionar un tipo de usuario</span>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Contraseña</label> <input type="password"
							class="form-control" id="Input1" name="contrasenia">
						<span th:errors="*{contrasenia}" style = "color: #BF2121"></span>
					</div>
				</div>
				<div class="col-md">
					<div class="form-group">
						<label for="Input1">Confirmas Contraseña</label> <input
							type="password" class="form-control" id="Input1" name="pass">
					</div>
				</div>
			</div>
			<span th:if="${resultado4 == 1}" style = "color: #BF2121">Las contraseñas no coinciden!</span>
	
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" th:value="true" id="defaultCheck1" name="estado">
			  <label class="form-check-label" for="defaultCheck1">
			    Habilitado
			  </label>
			</div>

			<div class="btn-center">
				<button type="submit" class="btn color-btnSesion">Registrar</button>
			</div>
		</form>
	</div>
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
		$(document).ready(function(){
			$('#Select1').change(function(){
				recargarLista();
			});
		})
	</script>
	<script type="text/javascript">
		function recargarLista(){
			$.ajax({
				type: "GET",
				"serverSide": true,
				"ajax": "./cargarMunicipios",
	            data: { draw : 1 },
				sucess:function(r){
					alert("sad");
				},
			    error: function(data) {
			        alert('error');
			      }
			})
			
			
			
			
		}
	</script>
	